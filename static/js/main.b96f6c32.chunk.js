(this.webpackJsonpbizlist=this.webpackJsonpbizlist||[]).push([[0],{12:function(e,a,t){e.exports=t(17)},17:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(6),l=t.n(c),o=(t(4),t(3)),s=t(7),i=t(8),m=t(9),u=t(11),f=t(10);function h(e){e.target.select()}var d=function(e){var a=e.searchchange;return r.a.createElement("div",null,r.a.createElement("input",{className:"searchbox",type:"search",placeholder:"company name",onChange:a,onFocus:h}))};function p(e){var a=e.trim().match(/(\/\/www\.|www\.|\/\/)([^/.]+)/);return null===a?e.trim():a[2]}function v(e){var a=e.trim().match(/facebook.com\/([^/]+)\/?/);return null===a?e.trim():a[1]}var E=function(e){var a=e.entry;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"title"},a.fullname.t+(a.remark.t&&" ("+a.remark.t+")")),r.a.createElement("div",null,a.call.t&&a.call.t.split("\n").map((function(e,a){return r.a.createElement("a",{href:"tel:".concat((t=e,t.trim().match(/(\d{4}|\d-\d{4}-\d{4}|\d{3}-\d{3}-\d{4}|\d{3}-\d{3}-\d{3})/)[0])),key:a},r.a.createElement("span",{className:"phone"},e,r.a.createElement("br",null)));var t}))),r.a.createElement("div",null,a.website.t&&r.a.createElement("a",{href:a.website.t,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("span",{className:"website"},function(e){var a=e.trim().match(/(\/\/www\.|www\.|\/\/)([^/]+)/);return null===a?e.trim():a[2]}(a.website.t)))),r.a.createElement("div",null,a.facebook.t&&r.a.createElement("span",{className:"facebook"},r.a.createElement("a",{href:a.facebook.t,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-facebook-square"})," facebook")),a.facebook.t&&r.a.createElement("span",{className:"line"},"\xa0",r.a.createElement("a",{href:"http://line.me/ti/p/".concat(a.line.t),target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-line"})," LINE"))),r.a.createElement("div",{className:"colorbar bar0"},r.a.createElement("svg",null,r.a.createElement("path",{d:"M 250 0\r v 80\r h -250\r C 100 80, 250 80, 250 0",fill:"".concat(a.color.t)}))),r.a.createElement("div",{className:"colorbar bar1"},r.a.createElement("svg",null,r.a.createElement("path",{d:"M 150 0\r v 100\r h -150\r C 100 100, 150 50, 150 0",fill:"".concat(a.color.t)}))),r.a.createElement("div",{className:"colorbar bar2"},r.a.createElement("svg",null,r.a.createElement("path",{d:"M 100 0\r v 150\r h -100\r C 100 150, 100 20, 100 0",fill:"".concat(a.color.t)}))))};var b=function(e){var a=e.entries;return r.a.createElement("div",{className:"container"},a.map((function(e,a){return r.a.createElement(E,{key:a,entry:e})})))};var g=function(){return r.a.createElement("div",{className:"logo"},"B",r.a.createElement("span",{className:"special-i"},r.a.createElement("span",{className:"stack"},"."),r.a.createElement("span",{className:"stack"},"\u0131")),"zL",r.a.createElement("span",{className:"special-i"},r.a.createElement("span",{className:"stack bouncing"},"."),r.a.createElement("span",{className:"stack"},"\u0131")),"st")},k=function(e){Object(u.a)(t,e);var a=Object(f.a)(t);function t(){var e;return Object(i.a)(this,t),(e=a.call(this)).onSearchChange=function(a){console.log("searchchange..."),e.setState({searchfield:a.target.value.toLowerCase()})},e.state={entries:[],searchfield:""},e}return Object(m.a)(t,[{key:"filterEntries",value:function(e,a){var t=[];console.log(a);var n,r=Object(s.a)(e);try{for(r.s();!(n=r.n()).done;){var c=n.value,l=this.scoreEntry(c,a);l>0&&t.push(Object.assign(c,{score:l}))}}catch(o){r.e(o)}finally{r.f()}return t=t.sort((function(e,a){return a.score-e.score}))}},{key:"scoreEntry",value:function(e,a){var t=this,n=[e.name.t,e.fullname.t];"\u0e18\u0e19\u0e32\u0e04\u0e32\u0e23"===e.fullname.t.substring(0,6)&&(n=n.concat(e.fullname.t.substring(6)));var r=[];e.keyword.t&&(r=r.concat(e.keyword.t.split(",").map((function(e){return e.trim()}))));var c=n.map((function(e){return 1*t.indexToScore(e,a)})),l=r.map((function(e){return.8*t.indexToScore(e,a)})),s=Math.max.apply(Math,Object(o.a)(c).concat(Object(o.a)(l)));if(s)return s;var i=[p(e.website.t),v(e.facebook.t),e.line.t,e.call.t.split("\n").map((function(e){return e.trim()}))].map((function(e){return.3*t.indexToScore(e,a)}));return Math.max.apply(Math,Object(o.a)(i))}},{key:"indexToScore",value:function(e,a){var t=e.toString().toLowerCase().indexOf(a);return-1===t?0:0===t?.5+a.length/e.length*.5:.5}},{key:"render",value:function(){console.log("render...");var e=this.state,a=e.entries,t=e.searchfield;return a.length?r.a.createElement("div",{className:"App"},r.a.createElement("div",{id:"area-logo"},r.a.createElement("div",{id:"logo-background"}),r.a.createElement("div",{id:"logo-wrapper"},r.a.createElement(g,null),r.a.createElement(d,{searchchange:this.onSearchChange}))),r.a.createElement("div",{id:"area-content"},r.a.createElement(b,{entries:this.filterEntries(a,t)}))):r.a.createElement("h1",null,"Loading")}},{key:"processResponse",value:function(e){var a=JSON.parse(e.replace(/gsx\$|\$/g,"")).feed.entry.filter((function(e){return"x"===e.display.t}));this.setState({entries:a.map((function(e){return{call:e.call,color:e.color,email:e.email,facebook:e.facebook,fullname:e.fullname,keyword:e.keyword,line:e.line,name:e.name,remark:e.remark,website:e.website}}))})}},{key:"componentDidMount",value:function(){var e=this;fetch("https://spreadsheets.google.com/feeds/list/***REMOVED***/***REMOVED***/public/values?alt=json").then((function(e){return e.text()})).then((function(a){return e.processResponse(a)}))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},4:function(e,a,t){}},[[12,1,2]]]);
//# sourceMappingURL=main.b96f6c32.chunk.js.map