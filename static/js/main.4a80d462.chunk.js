(this.webpackJsonpbizlist=this.webpackJsonpbizlist||[]).push([[0],{12:function(e,t,a){e.exports=a(17)},17:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(6),l=a.n(c),o=(a(4),a(3)),s=a(7),i=a(8),m=a(9),u=a(11),h=a(10);function d(e){e.target.select()}var f=function(e){var t=e.searchchange;return r.a.createElement("div",null,r.a.createElement("input",{className:"searchbox",type:"search",placeholder:"company name",onChange:t,onFocus:d}))};function v(e){var t=e.trim().match(/(\/\/www\.|www\.|\/\/)([^/.]+)/);return null===t?e.trim():t[2]}function p(e){var t=e.trim().match(/facebook.com\/([^/]+)\/?/);return null===t?e.trim():t[1]}var E=function(e){var t=e.entry;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"title"},t.fullname.t+(t.remark.t&&" ("+t.remark.t+")")),r.a.createElement("div",null,t.call.t&&t.call.t.split("\n").map((function(e,t){return r.a.createElement("a",{href:"tel:".concat((a=e,a.trim().match(/(\d{4}|\d-\d{4}-\d{4}|\d{3}-\d{3}-\d{4}|\d{3}-\d{3}-\d{3})/)[0])),key:t},r.a.createElement("span",{className:"phone"},e,r.a.createElement("br",null)));var a}))),r.a.createElement("div",null,t.website.t&&r.a.createElement("a",{href:t.website.t,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("span",{className:"website"},function(e){var t=e.trim().match(/(\/\/www\.|www\.|\/\/)([^/]+)/);return null===t?e.trim():t[2]}(t.website.t)))),r.a.createElement("div",{className:"colorbar bar0"},r.a.createElement("svg",null,r.a.createElement("path",{d:"M 250 0\r v 80\r h -250\r C 100 80, 250 80, 250 0",stroke:"none",fill:"".concat(t.color.t)}))),r.a.createElement("div",{className:"colorbar bar1"},r.a.createElement("svg",null,r.a.createElement("path",{d:"M 150 0\r v 100\r h -150\r C 100 100, 150 50, 150 0",stroke:"none",fill:"".concat(t.color.t)}))),r.a.createElement("div",{className:"colorbar bar2"},r.a.createElement("svg",null,r.a.createElement("path",{d:"M 100 0\r v 150\r h -100\r C 100 150, 100 20, 100 0",stroke:"none",fill:"".concat(t.color.t)}))))};var g=function(e){var t=e.entries;return r.a.createElement("div",{className:"container"},t.map((function(e,t){return r.a.createElement(E,{key:t,entry:e})})))};var b=function(){return r.a.createElement("div",{className:"logo"},"B",r.a.createElement("span",{className:"special-i"},r.a.createElement("span",{className:"stack"},"."),r.a.createElement("span",{className:"stack"},"\u0131")),"zL",r.a.createElement("span",{className:"special-i"},r.a.createElement("span",{className:"stack bouncing"},"."),r.a.createElement("span",{className:"stack"},"\u0131")),"st")},w=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).onSearchChange=function(t){console.log("searchchange..."),e.setState({searchfield:t.target.value.toLowerCase()})},e.state={entries:[],searchfield:""},e}return Object(m.a)(a,[{key:"filterEntries",value:function(e,t){var a=[];console.log(t);var n,r=Object(s.a)(e);try{for(r.s();!(n=r.n()).done;){var c=n.value,l=this.scoreEntry(c,t);l>0&&a.push(Object.assign(c,{score:l}))}}catch(o){r.e(o)}finally{r.f()}return a=a.sort((function(e,t){return t.score-e.score}))}},{key:"scoreEntry",value:function(e,t){var a=this,n=[e.name.t,e.fullname.t];"\u0e18\u0e19\u0e32\u0e04\u0e32\u0e23"===e.fullname.t.substring(0,6)&&(n=n.concat(e.fullname.t.substring(6)));var r=[];e.keyword.t&&(r=r.concat(e.keyword.t.split(",").map((function(e){return e.trim()}))));var c=n.map((function(e){return 1*a.indexToScore(e,t)})),l=r.map((function(e){return.8*a.indexToScore(e,t)})),s=Math.max.apply(Math,Object(o.a)(c).concat(Object(o.a)(l)));if(s)return s;var i=[v(e.website.t),p(e.facebook.t),e.line.t,e.call.t.split("\n").map((function(e){return e.trim()}))].map((function(e){return.3*a.indexToScore(e,t)}));return Math.max.apply(Math,Object(o.a)(i))}},{key:"indexToScore",value:function(e,t){var a=e.toString().toLowerCase().indexOf(t);return-1===a?0:0===a?.5+t.length/e.length*.5:.5}},{key:"render",value:function(){console.log("render...");var e=this.state,t=e.entries,a=e.searchfield;return t.length?r.a.createElement("div",{className:"App"},r.a.createElement("div",{id:"area-logo"},r.a.createElement("div",{id:"logo-background"}),r.a.createElement("div",{id:"logo-wrapper"},r.a.createElement(b,null),r.a.createElement(f,{searchchange:this.onSearchChange}))),r.a.createElement("div",{id:"area-content"},r.a.createElement(g,{entries:this.filterEntries(t,a)}))):r.a.createElement("h1",null,"Loading")}},{key:"processResponse",value:function(e){var t=JSON.parse(e.replace(/gsx\$|\$/g,"")).feed.entry.filter((function(e){return"x"===e.display.t}));this.setState({entries:t.map((function(e){return{call:e.call,color:e.color,email:e.email,facebook:e.facebook,fullname:e.fullname,keyword:e.keyword,line:e.line,name:e.name,remark:e.remark,website:e.website}}))})}},{key:"componentDidMount",value:function(){var e=this;fetch("https://spreadsheets.google.com/feeds/list/***REMOVED***/***REMOVED***/public/values?alt=json").then((function(e){return e.text()})).then((function(t){return e.processResponse(t)}))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},4:function(e,t,a){}},[[12,1,2]]]);
//# sourceMappingURL=main.4a80d462.chunk.js.map