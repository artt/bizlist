(this.webpackJsonpbizlist=this.webpackJsonpbizlist||[]).push([[0],{14:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(7),l=t.n(c),o=(t(4),t(3)),s=t(8),i=t(5);function m(e){e.target.select()}var u=function(e){var a=e.searchchange;return r.a.createElement("div",null,r.a.createElement("input",{className:"searchbox",type:"search",placeholder:"company name",onChange:a,onFocus:m}))};function f(e){var a=e.trim().match(/(\/\/www\.|www\.|\/\/)([^/.]+)/);return null===a?e.trim():a[2]}function d(e){var a=e.trim().match(/facebook.com\/([^/]+)\/?/);return null===a?e.trim():a[1]}var p=function(e){var a=e.entry,t=e.datakey;return r.a.createElement("div",{className:"card",datakey:t},r.a.createElement("div",{className:"title"},a.fullname+(a.remark&&" ("+a.remark+")")),r.a.createElement("div",null,a.call&&a.call.split("\n").map((function(e,a){return r.a.createElement("a",{href:"tel:".concat((t=e,t.trim().match(/(\d{4}|\d-\d{4}-\d{4}|\d{3}-\d{3}-\d{4}|\d{3}-\d{3}-\d{3})/)[0])),key:a},r.a.createElement("span",{className:"ts"},e," ",r.a.createElement("i",{className:"fas fa-phone"}),"\xa0"));var t}))),r.a.createElement("div",null,a.website&&r.a.createElement("a",{href:a.website,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("span",{className:"ts"},function(e){var a=e.trim().match(/(\/\/www\.|www\.|\/\/)([^/]+)/);return null===a?e.trim():a[2]}(a.website)," ",r.a.createElement("i",{className:"fas fa-external-link-alt"})))),r.a.createElement("div",null,a.facebook&&r.a.createElement("span",{className:"ts facebook"},r.a.createElement("a",{href:a.facebook,target:"_blank",rel:"noopener noreferrer"},"facebook ",r.a.createElement("i",{className:"fab fa-facebook-square"}))),a.line&&r.a.createElement("span",{className:"ts line"},"\xa0",r.a.createElement("a",{href:"http://line.me/ti/p/".concat(a.line),target:"_blank",rel:"noopener noreferrer"},"LINE ",r.a.createElement("i",{className:"fab fa-line"})))),r.a.createElement("div",{className:"colorbar bar0"},r.a.createElement("svg",null,r.a.createElement("path",{d:"M 250 0\r v 80\r h -250\r C 100 80, 250 80, 250 0",fill:"".concat(a.color)}))),r.a.createElement("div",{className:"colorbar bar1"},r.a.createElement("svg",null,r.a.createElement("path",{d:"M 150 0\r v 100\r h -150\r C 100 100, 150 50, 150 0",fill:"".concat(a.color)}))),r.a.createElement("div",{className:"colorbar bar2"},r.a.createElement("svg",null,r.a.createElement("path",{d:"M 100 0\r v 150\r h -100\r C 100 150, 100 20, 100 0",fill:"".concat(a.color)}))))};var h=function(e){var a=e.entries;return r.a.createElement("div",{className:"container"},a.map((function(e,a){return r.a.createElement(p,{key:a,entry:e})})))};var v=function(){return r.a.createElement("div",{className:"logo"},"B",r.a.createElement("span",{className:"special-i"},r.a.createElement("span",{className:"stack"},"."),r.a.createElement("span",{className:"stack"},"\u0131")),"zL",r.a.createElement("span",{className:"special-i"},r.a.createElement("span",{className:"stack bouncing"},"."),r.a.createElement("span",{className:"stack"},"\u0131")),"st")};var E=function(){Object(n.useEffect)((function(){console.log("fetch"),fetch("https://spreadsheets.google.com/feeds/list/1d9-1TwVhteX5xHlAdGvqhia6Lhcz4rwctGuBH6vDMgo/o9wnly8/public/values?alt=json").then((function(e){return e.text()})).then((function(e){return function(e){var a=JSON.parse(e.replace(/gsx\$|\$/g,"")).feed.entry.filter((function(e){return"x"===e.display.t}));c(a.map((function(e){return{call:e.call.t,color:e.color.t,email:e.email.t,facebook:e.facebook.t,fullname:e.fullname.t,keyword:e.keyword.t,line:e.line.t,name:e.name.t,remark:e.remark.t,website:e.website.t,score:1}})))}(e)}))}),[]);var e=Object(n.useState)([]),a=Object(i.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)(""),m=Object(i.a)(l,2),p=m[0],E=m[1];return console.log("render..."),t.length?r.a.createElement("div",{className:"App"},r.a.createElement("div",{id:"area-logo"},r.a.createElement("div",{id:"logo-background"}),r.a.createElement("div",{id:"logo-wrapper"},r.a.createElement(v,null),r.a.createElement(u,{searchchange:function(e){console.log("searchchange..."),E(e.target.value.toLowerCase().replace(/[, -\.]/g,""))}}),r.a.createElement("p",null,"v2"))),r.a.createElement("div",{id:"area-content"},r.a.createElement(h,{entries:function(e,a){var t=[];console.log(a);var n,r=Object(s.a)(e);try{for(r.s();!(n=r.n()).done;){var c=n.value,l=b(c,a);l>0&&t.push(Object.assign(c,{score:l}))}}catch(o){r.e(o)}finally{r.f()}return t=t.sort((function(e,a){return a.score-e.score}))}(t,p)}))):r.a.createElement("h1",null,"Loading...");function b(e,a){var t=[e.name,e.fullname];"\u0e18\u0e19\u0e32\u0e04\u0e32\u0e23"===e.fullname.substring(0,6)&&(t=t.concat(e.fullname.substring(6)));var n=[];e.keyword&&(n=n.concat(e.keyword.split(",").map((function(e){return e.trim()}))));var r=t.map((function(e){return 1*g(e,a)})),c=n.map((function(e){return.8*g(e,a)})),l=Math.max.apply(Math,Object(o.a)(r).concat(Object(o.a)(c)));if(l)return l;var s=[f(e.website),d(e.facebook),e.line,e.call.split("\n").map((function(e){return e.trim()}))].map((function(e){return.3*g(e,a)}));return Math.max.apply(Math,Object(o.a)(s))}function g(e,a){var t=e.toString().toLowerCase().replace(/[, -\.]/g,"").indexOf(a);return-1===t?0:0===t?.5+a.length/e.length*.5:.5}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},4:function(e,a,t){},9:function(e,a,t){e.exports=t(14)}},[[9,1,2]]]);
//# sourceMappingURL=main.e24f6dea.chunk.js.map